import{a as B}from"./chunk-IG2YJJWR.js";import{a as V,c as R}from"./chunk-Z4WB5FUE.js";import{$ as T,B as r,G as I,Ga as N,Ia as D,N as d,O as s,P as j,Pa as z,Q as U,R as v,S as b,Sa as A,T as g,U as o,V as n,W as f,_ as E,ba as m,e as C,h,ia as l,ja as p,la as k,o as P,p as S,q as y,r as w,sa as $,ua as F,v as u,va as M,z as x}from"./chunk-DDCXKO4N.js";var O=()=>["/user"],L=(t,i)=>i.id;function W(t,i){t&1&&(o(0,"div",0),f(1,"span",2),n())}function q(t,i){if(t&1&&(o(0,"div",0)(1,"p",3),l(2),n()()),t&2){let e=m();r(2),p(e.error())}}function J(t,i){if(t&1){let e=E();o(0,"button",19),T("click",function(){S(e);let c=m().$implicit,_=m(3);return y(_.openWhatsApp(c.url))}),w(),o(1,"svg",20),f(2,"path",21),n(),l(3," WhatsApp "),n()}}function K(t,i){if(t&1){let e=E();o(0,"button",22),T("click",function(){S(e);let c=m().$implicit,_=m(3);return y(_.openEmail(c.url))}),w(),o(1,"svg",23),f(2,"path",24),n(),l(3," Email "),n()}}function Q(t,i){if(t&1&&(o(0,"a",18),l(1),F(2,"titlecase"),n()),t&2){let e=m().$implicit,a=m(3);g("href",e.url,x),r(),k(" ",a.getSocialIcon(e.name)," ",M(2,3,e.name)," ")}}function X(t,i){if(t&1&&d(0,J,4,0,"button",16)(1,K,4,0,"button",17)(2,Q,3,5,"a",18),t&2){let e=i.$implicit;s(e.name==="whatsapp"?0:e.name==="email"?1:2)}}function Y(t,i){if(t&1&&(o(0,"div",12)(1,"h3",14),l(2,"Contacto:"),n(),o(3,"div",15),v(4,X,3,1,null,null,j),n()()),t&2){let e=m();r(4),b(e.socials)}}function Z(t,i){t&1&&(o(0,"div",12)(1,"a",25),l(2," Agendar Asesor\xEDa "),n()()),t&2&&(r(),g("routerLink",$(1,O)))}function ee(t,i){if(t&1&&(o(0,"figure"),f(1,"img",37),n()),t&2){let e=m().$implicit;r(),g("src",e.imageUrl,x)("alt",e.name)}}function te(t,i){if(t&1&&(o(0,"span",33),l(1),n()),t&2){let e=i.$implicit;r(),p(e)}}function ie(t,i){if(t&1&&(o(0,"a",35),l(1," GitHub "),n()),t&2){let e=m().$implicit;g("href",e.repoUrl,x)}}function ne(t,i){if(t&1&&(o(0,"a",36),l(1," Demo "),n()),t&2){let e=m().$implicit;g("href",e.demoUrl,x)}}function oe(t,i){if(t&1&&(o(0,"div",28),d(1,ee,2,2,"figure"),o(2,"div",29)(3,"h3",30),l(4),n(),o(5,"p",31),l(6),n(),o(7,"div",32),v(8,te,2,1,"span",33,U),n(),o(10,"div",34),d(11,ie,2,1,"a",35),d(12,ne,2,1,"a",36),n()()()),t&2){let e=i.$implicit;r(),s(e.imageUrl?1:-1),r(3),p(e.name),r(2),p(e.description),r(2),b(e.technologies),r(3),s(e.repoUrl?11:-1),r(),s(e.demoUrl?12:-1)}}function re(t,i){if(t&1&&(o(0,"div",13)(1,"h2",26),l(2,"Proyectos"),n(),o(3,"div",27),v(4,oe,13,5,"div",28,L),n()()),t&2){let e=m(2);r(4),b(e.projects())}}function ae(t,i){if(t&1&&(o(0,"div",39)(1,"div",29)(2,"h3",40),l(3),n(),o(4,"p"),l(5),n(),o(6,"span",33),l(7),n()()()),t&2){let e=i.$implicit;r(3),p(e.day),r(2),k("",e.startTime," - ",e.endTime),r(2),p(e.modality)}}function le(t,i){if(t&1&&(o(0,"div")(1,"h2",26),l(2,"Disponibilidad"),n(),o(3,"div",38),v(4,ae,8,4,"div",39,L),n()()),t&2){let e=m(2);r(4),b(e.availability())}}function me(t,i){if(t&1&&(o(0,"section",1)(1,"div",4)(2,"div",5)(3,"div",6),f(4,"img",7),n()(),o(5,"div",8)(6,"h1",9),l(7),n(),o(8,"p",10),l(9),n(),o(10,"p",11),l(11),n(),d(12,Y,6,0,"div",12),d(13,Z,3,2,"div",12),n()(),d(14,re,6,0,"div",13),d(15,le,6,0,"div"),n()),t&2){let e=i,a=m();r(4),g("src",e.photoUrl||"https://ui-avatars.com/api/?name="+e.name+"&background=random&size=200",x),r(3),p(e.name),r(2),p(e.specialty),r(2),p(e.description),r(),s(e.socials&&e.socials.length>0?12:-1),r(),s(a.canSchedule()?13:-1),r(),s(a.projects().length>0?14:-1),r(),s(a.availability().length>0?15:-1)}}var H=class t{route=P(z);programmerService=P(B);userService=P(V);profile=u(null);projects=u([]);availability=u([]);loading=u(!0);error=u("");canSchedule(){let i=this.userService.userProfile()?.role;return!i||i==="user"}ngOnInit(){this.route.paramMap.subscribe(i=>{let e=Number(i.get("id"));if(!e){this.error.set("Perfil inv\xE1lido."),this.loading.set(!1);return}this.programmerService.getProgrammerPublic(e).subscribe({next:a=>{this.profile.set(a),this.loading.set(!1)},error:()=>{this.error.set("No se pudo cargar el perfil."),this.loading.set(!1)}}),this.programmerService.listProjectsPublic(e).pipe(h(()=>C([]))).subscribe(a=>this.projects.set(a)),this.programmerService.listAvailabilityPublic(e).pipe(h(()=>C([]))).subscribe(a=>this.availability.set(a))})}openWhatsApp(i){let c=`Hola, soy ${this.userService.userProfile()?.name||"Un usuario"} y me gustar\xEDa contactarte para una asesor\xEDa.`,_=encodeURIComponent(c),G=i.replace(/[^\d+]/g,"");window.open(`https://wa.me/${G}?text=${_}`,"_blank")}openEmail(i){let a=this.userService.userProfile()?.name||"Un usuario",c="Solicitud de asesor\xEDa",_=`Hola,

Soy ${a} y me gustar\xEDa contactarte para una asesor\xEDa.

Saludos.`;window.location.href=`mailto:${i}?subject=${encodeURIComponent(c)}&body=${encodeURIComponent(_)}`}getSocialIcon(i){return{instagram:"\u{1F4F7}",linkedin:"\u{1F4BC}",github:"\u{1F419}",twitter:"\u{1F426}",facebook:"\u{1F465}",tiktok:"\u{1F3B5}"}[i]||"\u{1F517}"}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=I({type:t,selectors:[["app-programmer-profile"]],decls:4,vars:1,consts:[[1,"min-h-screen","flex","items-center","justify-center"],[1,"max-w-5xl","mx-auto","px-6","py-16","bg-base-100"],[1,"loading","loading-spinner","loading-lg"],[1,"text-error"],[1,"flex","flex-col","md:flex-row","gap-8","items-center","md:items-start","mb-12"],[1,"avatar"],[1,"w-48","rounded-full","ring","ring-primary","ring-offset-base-100","ring-offset-2"],[3,"src"],[1,"flex-1","text-center","md:text-left"],[1,"text-4xl","font-bold","mb-2"],[1,"text-xl","text-primary","font-semibold","mb-4"],[1,"text-base-content/80"],[1,"mt-6"],[1,"mb-12"],[1,"font-semibold","mb-3"],[1,"flex","flex-wrap","gap-3"],[1,"btn","btn-success","gap-2"],[1,"btn","btn-info","gap-2"],["target","_blank",1,"btn","btn-outline","gap-2",3,"href"],[1,"btn","btn-success","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["d","M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"],[1,"btn","btn-info","gap-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],[1,"btn","btn-primary","btn-lg",3,"routerLink"],[1,"text-3xl","font-bold","mb-6"],[1,"grid","md:grid-cols-2","gap-6"],[1,"card","bg-base-200","shadow-xl"],[1,"card-body"],[1,"card-title"],[1,"text-base-content/70"],[1,"flex","flex-wrap","gap-2","mt-2"],[1,"badge","badge-primary"],[1,"card-actions","justify-end","mt-4"],["target","_blank",1,"btn","btn-sm","btn-outline",3,"href"],["target","_blank",1,"btn","btn-sm","btn-primary",3,"href"],[1,"w-full","h-48","object-cover",3,"src","alt"],[1,"grid","md:grid-cols-2","gap-4"],[1,"card","bg-base-200"],[1,"font-semibold"]],template:function(e,a){if(e&1&&(f(0,"app-drawer"),d(1,W,2,0,"div",0)(2,q,3,1,"div",0)(3,me,16,8,"section",1)),e&2){let c;r(),s(a.loading()?1:a.error()?2:(c=a.profile())?3:-1,c)}},dependencies:[D,A,R,N],encapsulation:2})};export{H as ProgrammerProfilePage};
